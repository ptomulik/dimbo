---
layout: post
title: "Python bindings preinstalled"
description: ""
category: 
tags: []
sidenav: "home"
---
{% include JB/setup %}

The python binding generated by DIMBO may be pre-installed same way as other binaries and libraries. Just set ``--install-sandbox`` flag when compiling. For example:

```console
ptomulik@tea$ scons -j6 --install-sandbox=$(pwd)/build/preinst
```

To start interactive python session and have access to generated modules, one
then have to

```console
ptomulik@tea:$ cd build/preinst/usr/local
ptomulik@tea:$ LD_LIBRARY_PATH=lib PYTHONPATH=lib/python/dist-packages/ python -i
```

&nbsp;

### Playing with OpenCL bindings

As an example we'll play a little with the python bindings to opencl platform
layer. Let's start the python interactive session as shown previously. Next
load all symbols from `dimbo.cl.platform_mod` module

```python
>>> import dimbo.cl
```

You shall see several new symbols in global namesapce

```python
>>> dir(dimbo.cl)
['CL_A', 'CL_ADDRESS_CLAMP', 'CL_ADDRESS_CLAMP_TO_EDGE', '...' ]
```

Let's query the OpenCL to return available platforms:

```python
>>> platforms = dimbo.cl.get_platforms()
>>> len(platforms)
1
>>> platforms
(<Swig Object of type 'Dimbo::Cl::Platform *' at 0x7f561bce4768>,)
```

As seen above, there is one OpenCL platform on my computer. We may see some of
its characteristics:

```python
>>> platforms[0].get_name()
'NVIDIA CUDA'
>>> platforms[0].get_vendor()
'NVIDIA Corporation'
>>> platforms[0].get_version()
'OpenCL 1.1 CUDA 6.0.1'
```

Each **OpenCL** platform consists of one or more devices. In my case it's a single GPU card:

```python
>>> devices = dimbo.cl.get_devices(platforms[0])
>>> len(devices)
1
>>> devices
(<Swig Object of type 'Dimbo::Cl::Device *' at 0x7f561bd38b90>,)
```

Let's see it's model, version and the size of available local memory:

```python
>>> devices[0].get_name()
'GeForce GTX 460'
>>> devices[0].get_version()
'OpenCL 1.1 CUDA'
>>> devices[0].get_driver_version()
'331.67'
>>> devices[0].get_local_mem_size()
49152L
```

<!-- vim: set syntax=markdown: -->
