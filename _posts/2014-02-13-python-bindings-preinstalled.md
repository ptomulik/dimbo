---
layout: post
title: "Python bindings preinstalled"
description: ""
category: 
tags: []
sidenav: "home"
---
{% include JB/setup %}

The python binding generated by DIMBO are now getting pre-installed under
**preinst/usr/lib/python/dist-packages**. This happens each time the DIMBO
project is being compiled. To start interactive python session and have access
to generated modules, one have to do

```console
ptomulik@tea:$ cd preinst/usr
ptomulik@tea:$ LD_LIBRARY_PATH=lib PYTHONPATH=lib/python/dist-packages/ python -i
```

&nbsp;

### Playing with OpenCL bindings

As an example we'll play a little with the python bindings to opencl platform
layer. Let's start the python interactive session as shown previously. Next
load all symbols from `dimbo.cl.platform_mod` module

```python
>>> from dimbo.cl.platform_mod import *
```

You shall see several new symbols in global namesapce

```python
>>> dir()
['Device', 'Platform', 'Platform_Layer', 'SWIG_PyInstanceMethod_New', '...' ]
```

Let's query the OpenCL to return available platforms:

```python
>>> platforms = get_platforms()
>>> len(platforms)
1
>>> platforms
(<Swig Object of type 'Dimbo::Cl::Platform *' at 0x7f561bce4768>,)
```

As seen above, there is one OpenCL platform on my computer. We may see some of
its characteristics:

```python
>>> platforms[0].get_name()
'NVIDIA CUDA'
>>> platforms[0].get_vendor()
'NVIDIA Corporation'
>>> platforms[0].get_version()
'OpenCL 1.1 CUDA 4.2.1'
```

Each **OpenCL** platform consists of one or more devices. In my case it's a single GPU card:

```python
>>> devices = get_devices(platforms[0])
>>> len(devices)
1
>>> devices
(<Swig Object of type 'Dimbo::Cl::Device *' at 0x7f561bd38b90>,)
```

Let's see it's model, version and the size of available local memory:

```python
>>> devices[0].get_name()
'GeForce GTX 460'
>>> devices[0].get_version()
'OpenCL 1.1 CUDA'
>>> devices[0].get_driver_version()
'319.82'
>>> devices[0].get_local_mem_size()
49152L
```

<!-- vim: set syntax=markdown: -->
